## Методы-констрструкторы

**Метод-конструктор** вызывается при создании объекта. Он служит
для настройки экземпляра объекта, установки определенных значений
его свойств и выполнения всей подготовительной работы к применению
объекта. Метод-конструктор следует именовать `__construct()`. Обратите внимание на то, что **имя метода-конструктора начинается с
двух символов подчеркивания**. Это правило именования распространяется и на **многие другие специальные методы в классах РНР**. Встроенные методы, имена которых начинаются таким образом,
известны как **магические методы**, потому что **в определенных обстоятельствах
они вызываются автоматически**. Теперь определим конструктор для класса `Animal`:

```php
class Animal {
    public $name = 'Животное';
    public $color = 'Черное';
    public $age = 3;
    
    public function __construct($name, $color, $age) {
        $this->name = $name;
        $this->color = $color;
        $this->age = $age;
    }
    
    public function getColor() {
        return 'Цвет животного: ' . $this->color;
    }
}
```

Метод `__construct()` автоматически вызывается при создании объекта с помощью оператора `new`, как показано ниже:
```php
$cat = new Animal('Мурзик', 'белый', 2);
echo $cat->getColor();
// Цвет животного: белый
```

### Объявление свойств в конструкторе
Эта возможность была введена только в **РНР 8**, и она предоставляет функциональную возможность объявления свойств в
конструкторе, которая позволяет **существенно** сократить ввод. Добавляя
ключевое слово для указания видимости аргумента конструктора, можно
скомбинировать аргументы с объявлением свойств и одновременно присвоить им значения. Вот как выглядит новая версия `Animal`:
```php
class Animal {
    public function __construct(
        public $name,
        public $color,
        public $age
    ) {} // объявление сразу в конструкторе
    
    public function getColor() {
        return 'Цвет животного: ' . $this->color;
    }
}
```

### Аргументы по умолчанию и именованные аргументы
Со временем списки аргументов метода могут расти и становиться все
более длинными и громоздкими. Это может существенно усложнить работу с классом, так как становится **трудно отслеживать аргументы**, требующиеся его методам.
Мы можем предоставить в определениях методов **значения по умолчанию**.
```php
class Animal {
    public function __construct(
        public $name,
        public $color = '',
        public $age = 0
    ) {}
    // ...
}
```

Эти присваивания активируются только в том случае, если вызывающий код не предоставляет значения при вызове конструктора. Теперь при
вызове конструктора совершенно необходимо указать только одно значение — имя:
```php
$cat = new Animal('Мурзик'); // нет необходимости перечислять все свойства
```
**РНР 8** предоставляет **именованные аргументы**. Теперь при
вызове метода я могу указать имя аргумента со значением, которое я хочу
передать. Затем РНР связывает значение с корректным аргументом в сигнатуре метода независимо от порядка передачи аргументов в вызове:
```php
$cat = new Animal(
    color: 'серый',
    age: 1
);
```


